const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/ChatView-DMyakTER.js","assets/js/router-BfBgOAHe.js","assets/js/vue-core-BoiL1HRa.js","assets/js/highlight-BSaeFFC4.js","assets/js/i18n-CeE1QK4V.js","assets/js/vendor-CJNHjaSW.js","assets/js/marked-txETn4SA.js","assets/js/state-BPcB45lV.js","assets/js/mock-C46Gfhfc.js","assets/js/SettingsView-Oo30Llvi.js","assets/js/RegisterView-CVuNVWAo.js","assets/js/LoginView-v7T7w1aa.js"])))=>i.map(i=>d[i]);
import{r as e,o as t,z as a,A as s,B as n,f as o,C as i,u as l,D as r,E as d,G as c,H as u,p as m,c as g,I as p,J as h,K as _,L as y,M as w,N as f,b as v,F as S,O as k,P as b,Q as I,R as C,S as E,n as D,U as T}from"./vue-core-BoiL1HRa.js";import{d as P,c as R,s as M}from"./state-BPcB45lV.js";import{R as A,u as B,a as O,c as x,b as N}from"./router-BfBgOAHe.js";import{u as $,c as L}from"./i18n-CeE1QK4V.js";import{W as F}from"./vendor-CJNHjaSW.js";import{M as H}from"./mock-C46Gfhfc.js";import"./highlight-BSaeFFC4.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const j={key:0,class:"app-loading"},U={class:"app-loading-text"},G={key:1,class:"app-container"},K={__name:"App",setup(g){const{t:p}=$(),h=e(!1),_=e("1.0.0");return m("appVersion",_),t((async()=>{localStorage.getItem("access_token"),localStorage.getItem("refresh_token"),localStorage.getItem("token_type"),setTimeout((()=>{h.value=!0}),300)})),(e,t)=>h.value?(r(),a("div",G,[o(l(A),null,{default:i((({Component:e})=>[o(d,{name:"fade",mode:"out-in"},{default:i((()=>[(r(),c(u(e)))])),_:2},1024)])),_:1})])):(r(),a("div",j,[t[0]||(t[0]=s("div",{class:"app-loading-spinner"},null,-1)),s("div",U,n(p("main.loading")),1)]))}},Y={},V=function(e,t,a){let s=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),a=(null==e?void 0:e.nonce)||(null==e?void 0:e.getAttribute("nonce"));s=Promise.allSettled(t.map((e=>{if((e=function(e){return"/"+e}(e))in Y)return;Y[e]=!0;const t=e.endsWith(".css"),s=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${s}`))return;const n=document.createElement("link");return n.rel=t?"stylesheet":"modulepreload",t||(n.as="script"),n.crossOrigin="",n.href=e,a&&n.setAttribute("nonce",a),document.head.appendChild(n),t?new Promise(((t,a)=>{n.addEventListener("load",t),n.addEventListener("error",(()=>a(new Error(`Unable to preload CSS for ${e}`))))})):void 0})))}function n(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return s.then((t=>{for(const e of t||[])"rejected"===e.status&&n(e.reason);return e().catch(n)}))},W=P("chat",{state:()=>({messages:[],chatHistory:[],currentChatId:null}),actions:{addMessage(e){const t={id:e.id||F(),timestamp:e.timestamp||(new Date).toISOString(),...e};return this.messages.push(t),this.currentChatId&&this.syncMessagesToHistory(),t},updateMessage(e,t){if(e>=0&&e<this.messages.length){const a=this.messages[e].id;this.messages[e]={...t,id:a,timestamp:(new Date).toISOString(),edited:!0},this.updateMessageInHistory(a,this.messages[e]),this.currentChatId&&this.syncMessagesToHistory()}},updateMessageInHistory(e,t){this.chatHistory.forEach((a=>{if(a&&a.messages&&Array.isArray(a.messages)){const s=a.messages.findIndex((t=>t.id===e));-1!==s&&(a.messages[s]=t)}}))},detectMessageType:e=>e.startsWith("http")&&/\.(png|jpg|jpeg|gif|webp)$/i.test(e)?{type:"image",content:e}:/^\s*(const|let|var|function|class|import|export)\s+/.test(e)||e.includes(";")?{type:"code",content:e,language:"javascript"}:{type:"text",content:e},deleteChat(e){const t=this.chatHistory.findIndex((t=>t.id==e));-1!==t&&(this.chatHistory.splice(t,1),this.currentChatId===e&&(this.messages=[],this.currentChatId=null))},updateChatTitle(e,t){const a=this.chatHistory.find((t=>t.id==e));a&&(a.title=t,a.timestamp=(new Date).toISOString())},createNewChat(e="新的對話"){const t=Date.now(),a={id:t,title:e,timestamp:(new Date).toISOString(),messages:[]};return this.chatHistory.unshift(a),this.messages=[],this.currentChatId=t,t},loadChat(e){const t=this.chatHistory.find((t=>t.id===e));t?t.messages&&Array.isArray(t.messages)?this.messages=[...t.messages]:(this.messages=[],t.messages=[]):this.messages=[],this.currentChatId=e},syncMessagesToHistory(){if(!this.currentChatId)return;const e=this.chatHistory.find((e=>e.id===this.currentChatId));e&&(e.messages||(e.messages=[]),e.messages=JSON.parse(JSON.stringify(this.messages)),e.timestamp=(new Date).toISOString())},clearCurrentChat(){this.messages=[],this.currentChatId=null}},persist:!0}),q=(e,t)=>{const a=e.__vccOpts||e;for(const[s,n]of t)a[s]=n;return a},z=["width","height","viewBox","stroke","stroke-width"],J={key:0},X=q(Object.assign({name:"IconBase"},{__name:"IconBase",props:{width:{type:[Number,String],default:20},height:{type:[Number,String],default:20},color:{type:String,default:"currentColor"},title:{type:String,default:null},viewBox:{type:String,default:"0 0 24 24"},strokeWidth:{type:[Number,String],default:2}},setup(e){const t=e,s=g((()=>({width:"number"==typeof t.width?`${t.width}px`:t.width,height:"number"==typeof t.height?`${t.height}px`:t.height})));return(t,o)=>(r(),a("svg",{xmlns:"http://www.w3.org/2000/svg",width:e.width,height:e.height,viewBox:e.viewBox,style:_(s.value),fill:"none",stroke:e.color,"stroke-width":e.strokeWidth,"stroke-linecap":"round","stroke-linejoin":"round","aria-hidden":"true",role:"img"},[e.title?(r(),a("title",J,n(e.title),1)):p("",!0),h(t.$slots,"default",{},void 0)],12,z))}}),[["__scopeId","data-v-07f3b491"]]),Q=Object.assign({name:"PlusIcon"},{__name:"PlusIcon",setup:e=>(e,t)=>(r(),c(X,y(w(e.$attrs)),{default:i((()=>t[0]||(t[0]=[s("line",{x1:"12",y1:"5",x2:"12",y2:"19"},null,-1),s("line",{x1:"5",y1:"12",x2:"19",y2:"12"},null,-1)]))),_:1},16))}),Z=Object.assign({name:"ChatIcon"},{__name:"ChatIcon",setup:e=>(e,t)=>(r(),c(X,y(w(e.$attrs)),{default:i((()=>t[0]||(t[0]=[s("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"},null,-1)]))),_:1},16))}),ee={key:0,d:"M10 7l5 5-5 5","stroke-linecap":"round","stroke-linejoin":"round"},te={key:1,d:"M14 7l-5 5 5 5","stroke-linecap":"round","stroke-linejoin":"round"},ae={key:2,d:"M7 14l5-5 5 5","stroke-linecap":"round","stroke-linejoin":"round"},se={key:3,d:"M7 10l5 5 5-5","stroke-linecap":"round","stroke-linejoin":"round"},ne=q(Object.assign({name:"ChevronIcon"},{__name:"ChevronIcon",props:{direction:{type:String,default:"right",validator:e=>["left","right","up","down"].includes(e)}},setup:e=>(t,s)=>(r(),c(X,f(t.$attrs,{"stroke-width":3,color:"#999"}),{default:i((()=>["right"===e.direction?(r(),a("path",ee)):"left"===e.direction?(r(),a("path",te)):"up"===e.direction?(r(),a("path",ae)):"down"===e.direction?(r(),a("path",se)):p("",!0)])),_:1},16))}),[["__scopeId","data-v-6842beea"]]),oe=Object.assign({name:"EditIcon"},{__name:"EditIcon",setup:e=>(e,t)=>(r(),c(X,y(w(e.$attrs)),{default:i((()=>t[0]||(t[0]=[s("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},null,-1),s("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},null,-1)]))),_:1},16))}),ie=Object.assign({name:"TrashIcon"},{__name:"TrashIcon",setup:e=>(e,t)=>(r(),c(X,y(w(e.$attrs)),{default:i((()=>t[0]||(t[0]=[s("polyline",{points:"3 6 5 6 21 6"},null,-1),s("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},null,-1)]))),_:1},16))}),le="http://118.163.62.178:8087/api/v1",re={SESSIONS:`${le}/chat_sessions`,SESSION_BY_ID:e=>`${le}/chat_sessions/${e}`,MESSAGES:e=>`${le}/chat_sessions/${e}/messages`,MESSAGE_BY_ID:(e,t)=>`${le}/chat_sessions/${e}/messages/${t}`,CHAT_RAG_COMPLETION:e=>`${le}/chat_sessions/${e}/chat_rag`},de={BASE:`${le}/knowledge_bases`,BY_ID:e=>`${le}/knowledge_bases/${e}`,DOCUMENTS:e=>`${le}/knowledge_bases/${e}/source_documents`,DOCUMENT_BY_ID:(e,t)=>`${le}/knowledge_bases/${e}/source_documents/${t}`,UPLOAD:e=>`${le}/knowledge_bases/${e}/source_documents_stream`,UPLOAD_STATUS:(e,t)=>`${le}/knowledge_bases/${e}/source_documents_stream/${t}`},ce={MODELS:`${le}/llms`},ue={LOGIN:`${le}/auth/login`,REGISTER:`${le}/auth/register`},me=async(e,t="GET",a=null)=>{try{const s=localStorage.getItem("access_token"),n=await fetch(`${e}`,{method:t,headers:{Accept:"application/json",Authorization:`Bearer ${s}`,"Content-Type":"application/json"},body:a?JSON.stringify(a):void 0});if(!n.ok){const e=await n.json(),{detail:t,msg:a}=e;if(Array.isArray(t)&&t.length>0){const[{msg:e}]=t;throw new Error(e||"Unexpected error")}throw new Error(t||a||"Unexpected error")}return await n.json()}catch(s){throw s}},ge={getChatSessions:async()=>me(re.SESSIONS,"GET"),getChatSessionsByID:async e=>me(re.SESSION_BY_ID(e),"GET"),postChatSessions:async e=>me(re.SESSIONS,"POST",e),patchChatSessionsByID:async(e,t)=>me(re.SESSION_BY_ID(e),"PATCH",t),deleteChatSessionsByID:async e=>me(re.SESSION_BY_ID(e),"DELETE"),getMessagesBySessionID:async e=>me(re.MESSAGES(e),"GET"),postMessagesBySessionID:async(e,t)=>me(re.MESSAGES(e),"POST",t),patchMessagesByID:async(e,t,a)=>me(re.MESSAGE_BY_ID(e,t),"PATCH",a),getChatCompletionStream:async(e,t,a)=>{try{const s=localStorage.getItem("access_token"),n=await fetch(re.CHAT_RAG_COMPLETION(e),{method:"POST",headers:{Accept:"text/event-stream",Authorization:`Bearer ${s}`,"Content-Type":"application/json"},body:JSON.stringify({message:t,llm_id:a})});if(!n.ok){const e=await n.json(),{detail:t,msg:a}=e;if(Array.isArray(t)&&t.length>0){const[{msg:e}]=t;throw new Error(e||"Unexpected error")}throw new Error(t||a||"Unexpected error")}if(!n.body)throw new Error("Stream not supported by the server.");return n.body}catch(s){throw s}}},pe={login:async(e,t)=>me(ue.LOGIN,"POST",{email:e,password:t}),register:async e=>me(ue.REGISTER,"POST",e),getUserInfo:async()=>me(ue.PROFILE),updateUserInfo:async e=>me(ue.UPDATE_PROFILE,"PUT",e)},he={getStatus:async()=>me(ce.STATUS),getConfig:async()=>me(ce.SETTINGS),updateConfig:async e=>me(ce.SETTINGS,"PUT",e),getAvailableModels:async()=>me(ce.MODELS),getLLM:async()=>me(ce.MODELS,"GET")},_e={getKnowledgeBases:async()=>await me(de.BASE,"GET"),getKnowledgeByID:async e=>await me(de.BY_ID(e),"GET"),postKnowledge:async e=>await me(de.BASE,"POST",e),patchKnowledgeByID:async(e,t)=>await me(de.BY_ID(e),"PATCH",t),getKnowledgeBasesDocs:async e=>await me(de.DOCUMENTS(e),"GET"),getFileCompletionStream:async(e,t)=>{try{const a=localStorage.getItem("access_token"),s=new FormData;t.forEach((e=>s.append("files",e)));const n=await fetch(de.UPLOAD(e),{method:"POST",headers:{Authorization:`Bearer ${a}`,Accept:"text/event-stream"},body:s});if(200!==n.status){const e=await n.json(),{detail:t,msg:a}=e;if(Array.isArray(t)&&t.length>0){const[{msg:e}]=t;throw new Error(e||"Unexpected error")}throw new Error(t||a||"Unexpected error")}if(!n.body)throw new Error("Stream not supported by the server.");return n.body}catch(a){throw a}}};let ye=!0;const we=e=>(ye=e,localStorage.setItem("useMockData",e),ye),fe=()=>{const e=localStorage.getItem("useMockData");return null!==e&&(ye="true"===e),ye};function ve(){let e;t((()=>{e=document.getElementById("toastContainer"),e||(e=document.createElement("div"),e.id="toastContainer",e.className="toast-container",document.body.appendChild(e))})),v((()=>{}));const a=e=>{e.classList.add("fade-out"),e.addEventListener("animationend",(function(){document.body.contains(e)&&e.remove()}))};return{show:(t,s="info",n=3e3)=>{if(!e)return;const o=document.createElement("div");o.className=`toast ${s}`;const i=document.createElement("span");i.className="toast-message",i.textContent=t,o.appendChild(i);const l=document.createElement("span");return l.className="toast-close",l.innerHTML="&times;",l.onclick=e=>{e.stopPropagation(),a(o)},o.appendChild(l),o.onclick=()=>{a(o)},e.appendChild(o),setTimeout((()=>{document.body.contains(o)&&a(o)}),n),o},close:a}}const Se={class:"sider-head"},ke=["title"],be=["title"],Ie={key:0},Ce={key:0,class:"sider-history"},Ee={key:0,class:"sider-history__category-title"},De=["onClick"],Te={class:"sider-history__item-content"},Pe={key:0,class:"sider-history__details"},Re={class:"sider-history__title"},Me={class:"sider-history__date"},Ae={key:0,class:"sider-history__actions"},Be=["onClick"],Oe=["onClick"],xe={key:1,class:"sider-empty"},Ne={class:"sider-empty__text"},$e={key:3,class:"delete-confirm"},Le={class:"delete-confirm__content"},Fe={class:"delete-confirm__actions"},He={key:0,class:"model-popup"},je={class:"model-popup__content"},Ue={class:"model-popup__header"},Ge={class:"model-popup__title"},Ke={class:"model-popup__body"},Ye={class:"model-popup__form-group"},Ve={class:"model-popup__footer"},We=["disabled"],qe=q(Object.assign({name:"左側欄位"},{__name:"SiderBar",setup(i,{expose:d}){const c=ve(),{t:u}=$(),m=W(),h=B(),_=O(),y=e(!1),w=e(!1),f=e(!1),v=e(null),D=e(!1),T=e(""),P=e(null),R=e=>u(`main.${e}`),M=()=>{w.value=window.innerWidth<768,w.value&&(y.value=!0)};t((async()=>{if(M(),window.addEventListener("resize",M),"mock"!==fe())try{const e=localStorage.getItem("access_token"),t=localStorage.getItem("refresh_token"),a=localStorage.getItem("token_type");if(e&&t&&a){const e=await ge.getChatSessions();Array.isArray(e)&&(m.chatHistory=[],e.forEach((e=>{m.chatHistory.push({id:e.id,title:e.title||"未命名對話",description:e.description,user_id:e.user_id,is_top:e.is_top||!1,attached_messages_count:e.attached_messages_count||0,knowledge_base_id:e.knowledge_base_id,instructionId:e.instructionId,model:e.model,llm_id:e.llm_id,llm_display_name:e.llm_display_name,created_at:e.created_at,updated_at:e.updated_at})})))}}catch(e){}}));const A=()=>{y.value=!y.value};d({toggleSider:A});const x=async()=>{h.push("/")},N=async()=>{if(v.value)try{if("mock"!==fe()){await ge.deleteChatSessionsByID(v.value);const e=await ge.getChatSessions();Array.isArray(e)&&(m.chatHistory=[],e.forEach((e=>{m.chatHistory.push({id:e.id,title:e.title||"未命名對話",description:e.description,user_id:e.user_id,is_top:e.is_top||!1,attached_messages_count:e.attached_messages_count||0,knowledge_base_id:e.knowledge_base_id,instructionId:e.instructionId,model:e.model,llm_id:e.llm_id,llm_display_name:e.llm_display_name,created_at:e.created_at,updated_at:e.updated_at})}))),h.push("/")}else m.deleteChat(v.value),_.params.id==v.value&&(m.chatHistory.length>0?h.push(`/chat/${m.chatHistory[0].id}`):h.push("/"));f.value=!1,v.value=null}catch(e){c.show(R("messageDeleteError"),"error",1500),f.value=!1,v.value=null}},L=()=>{f.value=!1,v.value=null},F=async e=>{e.stopPropagation();let t=P.value;if(T.value&&""!==T.value.trim()&&T.value.trim()!==t.title)try{if("mock"!==fe()){await ge.patchChatSessionsByID(t.id,{title:T.value.trim()}),c.show(R("messageRenameSuccess"),"success",1500),D.value=!1;const e=await ge.getChatSessions();Array.isArray(e)&&(m.chatHistory=[],e.forEach((e=>{m.chatHistory.push({id:e.id,title:e.title||"未命名對話",description:e.description,user_id:e.user_id,is_top:e.is_top||!1,attached_messages_count:e.attached_messages_count||0,knowledge_base_id:e.knowledge_base_id,instructionId:e.instructionId,model:e.model,llm_id:e.llm_id,llm_display_name:e.llm_display_name,created_at:e.created_at,updated_at:e.updated_at})})))}else m.updateChatTitle(t.id,T.value.trim())}catch(a){c.show(R("messageRenameError"),"error",1500),D.value=!1}else c.show(R("messageRenameEmpty"),"error",1500)},H=g((()=>{const e=new Date,t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),a=new Date(t);a.setDate(a.getDate()-1);const s=new Date(t);s.setDate(s.getDate()-7);const n=new Date(t);n.setDate(n.getDate()-30);const o=e.getFullYear(),i={today:{label:R("today"),chats:[]},yesterday:{label:R("yesterday"),chats:[]},last7Days:{label:R("last7Days"),chats:[]},last30Days:{label:R("last30Days"),chats:[]},february:{label:"2 月",chats:[]},january:{label:"1 月",chats:[]},thisYear:{label:`${o} 年`,chats:[]},lastYear:{label:o-1+" 年",chats:[]}};return m.chatHistory.forEach((e=>{if(!e.updated_at)return;const l=new Date(1e3*e.updated_at),r=l.getFullYear(),d=l.getMonth();l>=t?i.today.chats.push(e):l>=a?i.yesterday.chats.push(e):l>=s?i.last7Days.chats.push(e):l>=n?i.last30Days.chats.push(e):r===o&&1===d?i.february.chats.push(e):r===o&&0===d?i.january.chats.push(e):r===o?i.thisYear.chats.push(e):r===o-1&&i.lastYear.chats.push(e)})),Object.values(i).forEach((e=>{e.chats.sort(((e,t)=>(t.updated_at||0)-(e.updated_at||0)))})),Object.values(i).filter((e=>e.chats.length>0))})),j=(e,t=20)=>e?e.length<=t?e:e.substring(0,t)+"...":"未命名對話",U=()=>{h.push("/"),w.value&&(y.value=!0)},G=()=>{D.value=!1};return(e,t)=>(E("router-link"),r(),a(S,null,[s("div",{class:b(["sider",{"sider--collapsed":y.value}])},[s("div",Se,[y.value?(r(),a("div",{key:1,class:"sider-head__logo sider-head__logo--small",onClick:U,style:{cursor:"pointer"}},"AI ")):(r(),a("div",{key:0,class:"sider-head__logo",onClick:U,style:{cursor:"pointer"}},"AI 助手")),s("div",{class:"sider-head__toggle",onClick:A,title:y.value?"展開側邊欄":"收起側邊欄"},[o(l(ne),{direction:y.value?"right":"left"},null,8,["direction"])],8,ke)]),s("div",{class:"sider-btn__new-chat",onClick:x,title:y.value?R("newChat"):""},[o(l(Q)),y.value?p("",!0):(r(),a("span",Ie,n(R("newChat")),1))],8,be),l(m).chatHistory.length>0?(r(),a("div",Ce,[(r(!0),a(S,null,k(H.value,((e,t)=>(r(),a("div",{key:t,class:"sider-history__category"},[y.value?p("",!0):(r(),a("div",Ee,n(e.label),1)),(r(!0),a(S,null,k(e.chats,(e=>{return r(),a("div",{key:e.id,class:b(["sider-history__item",{"sider-history__item--active":(i=e.id,_.params.id==i)}]),onClick:t=>(async e=>{try{if(fe())m.loadChat(e);else{const t=await ge.getChatSessionsByID(e),a=await ge.getMessagesBySessionID(e);t.knowledge_base_id&&await _e.getKnowledgeByID(t.knowledge_base_id),m.messages=a||[],m.currentChatId=e;const s=m.chatHistory.findIndex((t=>t.id===e));-1!==s&&(m.chatHistory[s].messages=a||[])}h.push(`/chat/${e}`),w.value&&(y.value=!0)}catch(t){}})(e.id)},[s("div",Te,[y.value?p("",!0):(r(),a("div",Pe,[s("div",Re,n(j(e.title)),1),s("div",Me,n((t=e.created_at,t?new Date(1e3*t).toLocaleDateString():"")),1)]))]),y.value?p("",!0):(r(),a("div",Ae,[s("button",{class:"sider-history__action-btn",onClick:t=>(async(e,t)=>{e.stopPropagation(),D.value=!0,T.value=t.title,P.value=t})(t,e),title:"重命名"},[o(l(oe),{width:"14",height:"14"})],8,Be),s("button",{class:"sider-history__action-btn",onClick:t=>((e,t)=>{e.stopPropagation(),v.value=t,f.value=!0})(t,e.id),title:"刪除"},[o(l(ie),{width:"14",height:"14"})],8,Oe)]))],10,De);var t,i})),128))])))),128))])):(r(),a("div",xe,[o(l(Z),{class:"sider-empty__icon",width:"48",height:"48"}),s("div",Ne,n(R("noChats")),1)])),p("",!0),f.value?(r(),a("div",$e,[s("div",Le,[s("h3",null,n(R("confirmDelete")),1),s("p",null,n(R("confirmDeleteSubtext")),1),s("div",Fe,[s("button",{class:"delete-confirm__cancel",onClick:L},n(R("cancel")),1),s("button",{class:"delete-confirm__delete",onClick:N},n(R("delete")),1)])])])):p("",!0)],2),D.value?(r(),a("div",He,[s("div",{class:"model-popup__overlay",onClick:G}),s("div",je,[s("div",Ue,[s("h3",Ge,n(R("messageRename")),1),s("button",{class:"model-popup__close",onClick:G},"×")]),s("div",Ke,[s("div",Ye,[I(s("input",{type:"text",id:"newTitle","onUpdate:modelValue":t[0]||(t[0]=e=>T.value=e),class:"model-popup__input"},null,512),[[C,T.value]])])]),s("div",Ve,[s("button",{class:"model-popup__btn model-popup__btn--cancel",onClick:G},n(R("cancel")),1),s("button",{class:"model-popup__btn model-popup__btn--confirm",onClick:F,disabled:!T.value},n(R("confirm")),9,We)])])])):p("",!0)],64))}}),[["__scopeId","data-v-8a1e93a4"]]),ze={width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"stroke-[2] relative"},Je={__name:"SendIcon",props:{width:{type:[Number,String],default:36},height:{type:[Number,String],default:36}},setup:e=>(e,t)=>(r(),a("svg",ze,t[0]||(t[0]=[s("path",{d:"M5 11L12 4M12 4L19 11M12 4V21",stroke:"currentColor"},null,-1)])))},Xe={class:"message-input"},Qe={key:0,class:"message-input__error"},Ze=["placeholder"],et={class:"message-input__textarea-div"},tt=["disabled","title"],at={key:0},st={key:1,class:"loading-spinner"},nt=q(Object.assign({name:"使用者輸入框"},{__name:"MessageInput",props:{isLoading:{type:Boolean,default:!1}},emits:["message-submit","processing-state-change"],setup(t,{emit:i}){const l=ve(),d=t,c=i,{t:u}=$(),m=e=>u(`main.${e}`),h=W(),_=O(),y=B(),w=e(""),f=e(null),v=e(""),S=g((()=>{const e=localStorage.getItem("access_token"),t=localStorage.getItem("refresh_token"),a=localStorage.getItem("token_type");return!!(e&&t&&a)})),k=(e,t=" \n\n")=>{const a=[],s=e.split(t);for(const o of s)try{if(!o.trim())continue;const e=JSON.parse(o);a.push(e)}catch(n){a.push(null)}return a.filter((e=>!!e))},E=async()=>{if(w.value.trim()&&!d.isLoading){if(v.value="",!S.value)return l.show(u("auth.notAuthenticated"),"warning",1500),void y.push("/login");var e;c("processing-state-change",!0);try{let s=_.params.id;s||(s=await(async()=>{try{const e=await ge.postChatSessions({title:m("newChat")});if(!e||!e.id)throw new Error(m("newChatFailed"));h.currentChatId=e.id,await ge.patchChatSessionsByID(e.id,{title:`${m("newChat")} ${e.id}`});const t=await ge.getChatSessions(),a=await _e.postKnowledge({name:`${m("knowledgeBase")} ${(new Date).toLocaleDateString("zh-TW").replace(/\//g,"")}`,description:m("defaultDescription")});return await ge.getMessagesBySessionID(e.id),await ge.patchChatSessionsByID(e.id,{knowledge_base_id:a.id}),Array.isArray(t)&&(h.chatHistory=[],t.forEach((e=>{h.chatHistory.push({id:e.id,title:e.title||m("defaultTitle"),description:e.description,user_id:e.user_id,is_top:e.is_top||!1,attached_messages_count:e.attached_messages_count||0,knowledge_base_id:e.knowledge_base_id,instructionId:e.instructionId,model:e.model,llm_id:e.llm_id,llm_display_name:e.llm_display_name,created_at:e.created_at,updated_at:e.updated_at})}))),await y.push(`/chat/${e.id}`),e.id}catch(e){throw e}})());const n=(e=w.value).startsWith("http")&&/\.(png|jpg|jpeg|gif|webp)$/i.test(e)?{type:"image",message:e}:e.includes("列表")||e.includes("步驟")||e.includes("清單")||e.includes("排名")||e.includes("優點")||e.includes("缺點")||e.includes("比較")?{type:"list",message:e}:e.includes("表格")||e.includes("比較表")||e.includes("數據表")||e.includes("價格表")?{type:"table",message:e}:/^\s*(const|let|var|function|class|import|export)\s+/.test(e)||e.includes(";")||e.includes("{")&&e.includes("}")?{type:"code",message:e,language:"javascript"}:e.includes("def ")||e.includes("import ")||e.includes("class ")||e.includes("print(")||e.includes("if __name__ == '__main__'")?{type:"code",message:e,language:"python"}:e.includes("public class")||e.includes("private")||e.includes("protected")||e.includes("System.out.println")?{type:"code",message:e,language:"java"}:e.includes("SELECT ")||e.includes("INSERT INTO ")||e.includes("UPDATE ")||e.includes("DELETE FROM ")||e.includes("CREATE TABLE")?{type:"code",message:e,language:"sql"}:e.includes("<html")||e.includes("<!DOCTYPE")||e.includes("<")&&e.includes(">")&&(e.includes("<div")||e.includes("<p")||e.includes("<body"))?{type:"code",message:e,language:"html"}:e.includes("{")&&e.includes("}")&&(e.includes("margin:")||e.includes("padding:")||e.includes("color:")||e.includes("font-size:"))?{type:"code",message:e,language:"css"}:e.includes("<template>")||e.includes("<script>")&&e.includes("export default")?{type:"code",message:e,language:"vue"}:{type:"text",message:e},o=w.value;w.value="",(async()=>{await D(),f.value&&(f.value.style.height="auto",f.value.style.height=`${f.value.scrollHeight}px`)})();const i=localStorage.getItem("selected_llm_id")||1,l=await ge.postMessagesBySessionID(s,{message:o,role:"user",llm_id:i,session_id:s,canceled:!1,failed:!1,startTime:Math.floor(Date.now()/1e3)});h.addMessage({...n,role:"user",id:l.id,session_id:s,chat_id:s}),c("message-submit",{...n,id:l.id,session_id:s,chat_id:s,role:"user",message:o});const r=(await ge.postMessagesBySessionID(s,{message:"",role:"assistant",llm_id:i,session_id:s,canceled:!1,failed:!1,startTime:Math.floor(Date.now()/1e3)})).id;h.addMessage({type:n.type,content:"",role:"assistant",language:n.language||null,id:r,session_id:s,chat_id:s,message:""});try{const e=await ge.getChatCompletionStream(s,o,i);if(e){if(e.locked)throw new Error("Stream is locked. Please try again.");const n=e.getReader(),o=new TextDecoder("utf-8");let i="",l="",d=Date.now();try{for(;;){const{done:e,value:t}=await n.read();if(e)break;const a=i+o.decode(t,{stream:!0});i=a.split(" \n\n").pop()||"";const s=k(a);for(const n of s){if(n&&"message"in n){const{message:e}=n;l+=e.content;const t=h.messages.findIndex((e=>e.id===r));-1!==t&&h.updateMessage(t,{...h.messages[t],content:l,message:l})}Date.now()-d>1e3&&(d=Date.now())}}}catch(t){v.value="Error during stream processing"}finally{try{await n.cancel("Stream handling finished."),await e.cancel()}catch(a){}finally{n.releaseLock()}await ge.patchMessagesByID(s,r,{message:l})}}}catch(t){v.value=t.message||m("unknowError");const e=h.messages.findIndex((e=>e.id===r));-1!==e&&h.updateMessage(e,{...h.messages[e],failed:!0,content:"Failed to get response from AI.",message:"Failed to get response from AI."}),await ge.patchMessagesByID(s,r,{message:"Failed to get response from AI.",failed:!0})}}catch(t){v.value=t.message||m("sendMessageFailed")}finally{c("processing-state-change",!1)}}};return(e,t)=>(r(),a("div",Xe,[v.value?(r(),a("div",Qe,n(v.value),1)):p("",!0),s("div",{class:b(["message-input__box",[w.value.length>20?"w-full":"flex-1"]])},[I(s("textarea",{ref_key:"textareaRef",ref:f,"onUpdate:modelValue":t[0]||(t[0]=e=>w.value=e),placeholder:m("submitPlaceholder"),class:"message-input__textarea",rows:"2","aria-label":"Message Input"},null,8,Ze),[[C,w.value]]),s("div",et,n(w.value),1)],2),p("",!0),s("div",{class:b(["message-input__btn",{"ml-auto":w.value.length>20}])},[s("button",{class:"message-input__send",onClick:E,disabled:d.isLoading||!w.value.trim(),title:m("send"),"aria-label":"Send Message"},[d.isLoading?(r(),a("span",st)):(r(),a("span",at,[o(Je,{width:"20",height:"20"})]))],8,tt)],2)]))}}),[["__scopeId","data-v-4c80ffb1"]]),ot={class:"wrap"},it={class:"main-content"},lt={class:"auth-buttons"},rt={key:0,class:"auth-buttons__item"},dt={key:1,class:"auth-buttons__item"},ct={class:"welcome-container"},ut={class:"welcome-title"},mt={class:"welcome-subtitle"},gt={class:"input-container"},pt=q(Object.assign({name:"首頁"},{__name:"MainView",setup(t){const i=ve(),{t:l}=$(),d=e=>l(`auth.${e}`),c=e=>l(`main.${e}`),u=W(),m=B(),p=e(!1),h=e(!1),_=g((()=>{const e=localStorage.getItem("access_token"),t=localStorage.getItem("refresh_token"),a=localStorage.getItem("token_type");return!!(e&&t&&a)})),y=()=>{m.push("/login")},w=()=>{m.push("/register")},f=()=>{localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("token_type"),u.clearCurrentChat(),u.chatHistory=[],i.show(d("logOutSuccess"),"success",1500),setTimeout((()=>{window.location.reload()}),100)},v=async e=>{try{p.value=!0;const e=u.createNewChat(`對話 ${(new Date).toLocaleString()}`);await m.push(`/chat/${e}`)}catch(t){}finally{p.value=!1}},S=e=>{p.value=e,h.value=e};return(e,t)=>(r(),a("div",ot,[o(qe),s("div",it,[s("div",lt,[_.value?(r(),a("div",dt,[s("button",{class:"auth-btn auth-btn--logout",onClick:f},n(d("logOut")),1)])):(r(),a("div",rt,[s("button",{class:"auth-btn auth-btn--login",onClick:y},n(d("logIn")),1),s("button",{class:"auth-btn auth-btn--register",onClick:w},n(d("register")),1)]))]),s("div",ct,[t[0]||(t[0]=s("div",{class:"welcome-icon"},"👋",-1)),s("h1",ut,n(c("welcome")),1),s("p",mt,n(c("welcomeSubtext")),1)]),s("div",gt,[o(nt,{onProcessingStateChange:S,onMessageSubmit:v,"is-loading":p.value},null,8,["is-loading"])])])]))}}),[["__scopeId","data-v-6e4edbe9"]]),ht=x({history:N("/"),routes:[{path:"/",name:"main",component:pt,meta:{title:"Techxim® GPT - 首頁",keepAlive:!0}},{path:"/chat/:id",name:"chat",component:()=>V((()=>import("./ChatView-DMyakTER.js")),__vite__mapDeps([0,1,2,3,4,5,6,7,8])),meta:{title:"Techxim® GPT - 對話",requiresAuth:!1},beforeEnter:(e,t,a)=>{W().chatHistory.some((t=>t.id==e.params.id))?a():a({name:"main"})}},{path:"/settings",name:"settings",component:()=>V((()=>import("./SettingsView-Oo30Llvi.js")),__vite__mapDeps([9,2,4,5,1,7,8,3])),meta:{title:"Techxim® GPT - 設置",requiresAuth:!1}},{path:"/register",name:"register",component:()=>V((()=>import("./RegisterView-CVuNVWAo.js")),__vite__mapDeps([10,2,1,4,5,7,8,3])),meta:{title:"Techxim® GPT - 註冊"}},{path:"/login",name:"login",component:()=>V((()=>import("./LoginView-v7T7w1aa.js")),__vite__mapDeps([11,2,1,4,5,7,8,3])),meta:{title:"Techxim® GPT - 登入"}},{path:"/:pathMatch(.*)*",name:"not-found",redirect:{name:"main"}}],scrollBehavior:(e,t,a)=>a||{top:0}});ht.beforeEach(((e,t,a)=>{document.title=e.meta.title||"Techxim® GPT",a()}));const _t=L({legacy:!1,locale:"zh_TW",fallbackLocale:"en",messages:{zh_TW:{auth:{logIn:"登入",register:"註冊",term:"特奇新科機股份有限公司®使用者條款",email:"電子郵件",password:"密碼",confirmPassword:"請確認密碼",company:"公司名稱",firstName:"姓名",lastName:"姓氏",cellphone:"電話",goToSignUp:"立即註冊",goToLogin:"馬上登入",logOut:"登出",askIsNew:"還沒有帳號？",askIsMember:"已經有帳號？",askIsReadTerm:"我已詳細閱讀與同意",emailPlaceholder:"請輸入您的電子郵件",passwordPlaceholder:"請輸入密碼",noAccount:"還沒有帳號？",registerSuccess:"註冊成功！即將跳轉到登入頁面...",lastNamePlaceholder:"請輸入您的姓氏",firstNamePlaceholder:"請輸入您的名字",cellphonePlaceholder:"請輸入您的電話號碼",companyPlaceholder:"請輸入您的公司名稱",logOutSuccess:"您已成功登出",notAuthenticated:"請登入以繼續",passwordHint:"密碼長度至少需要 8 碼",message:{noInputWarning:"請檢查電子郵件或密碼是否為空",notAuthenticated:"請登入以繼續",authenticated:"登入成功",validEmail:"電子郵件格式不正確",validPassword:"密碼長度至少需要 8 碼",validConfirmPassword:"密碼和確認密碼不同",validIsReadTerm:"請閱讀並同意特奇新科機®使用者條款",registerFailed:"註冊失敗，請稍後再試"}},main:{generate:"生成",cancel:"取消",confirm:"確認",user:"使用者",assistant:"助理",system:"系統",newChat:"新增對話",setting:"設定",name:"名稱",enterToSubmit:"按 Enter 鍵送出",submitPlaceholder:"輸入訊息…",noSessionIdWarning:"未提供 session_id",default:"預設",loading:"載入中應用...",empty:"尚無對話記錄",emptySubtext:"點擊上方的「新對話」按鈕開始聊天",version:"版本",confirmDelete:"確認刪除",confirmDeleteSubtext:"您確定要刪除這個對話嗎？此操作無法撤銷。",delete:"刪除",send:"送出",greeting:"歡迎使用 AI 助手",greetingSubtext:"我可以為你做什麼？你可以詢問任何問題，我會盡力協助你。",greetingExample1:"解釋量子計算的基本原理",greetingExample2:"幫我寫一個簡單的 Vue 組件",greetingExample3:"如何提高程式碼效能？",save:"保存",newMessages:"↓ 新訊息",error:"載入對話時發生錯誤",error_message:"請返回首頁或嘗試重新載入",back_to_home:"返回首頁",unknowError:"發生未知錯誤…",today:"今天",yesterday:"昨天",last7Days:"過去 7 天",last30Days:"過去 30 天",noChats:"尚無對話記錄",startNewChat:"點擊上方的「新對話」按鈕開始聊天",welcome:"歡迎使用 AI 助手",welcomeSubtext:"開始一個新對話，輸入你的問題，AI 助手將為你提供協助。",defaultDescription:"這是一個用於存儲和檢索文檔的知識庫。",knowledgeBaseName:"知識庫",pleaseInputKnowledgeBaseName:"請輸入知識庫名稱",knowledgeBaseCreatedSuccess:"知識庫創建成功",knowledgeBaseCreatedFailed:"知識庫創建失敗",knowledgeBaseCreatedFailedMessage:"創建知識庫失敗: ",pleaseSelectAtLeastOneFile:"請選擇至少一個文件",uploadingFiles:"開始上傳文件...",uploadingFilesSuccess:"文件上傳完成，正在處理...",uploadingFilesError:"上傳文件時發生錯誤",gettingDocumentsList:"正在獲取文檔列表...",updatingKnowledgeBaseInfo:"正在更新知識庫信息...",knowledgeBaseUpdatedSuccess:"知識庫更新成功",operationFailed:"操作失敗: ",unknownError:"發生未知錯誤",gettingKnowledgeBaseDetails:"正在獲取知識庫資料...",updateModelFailed:"更新模型失敗: ",noDescription:"無描述",knowledgeBaseSetting:"知識庫設定",modelSetting:"模型設定",knowledgeBaseDescription:"描述",modelDescription:"模型描述",knowledgeBaseFile:"知識庫文件",supportFileFormat:"支持 PDF、DOCX、TXT 等格式",chooseFile:"選擇文件",uploadFileSequence:"上傳文件序列",uploadedKnowledgeBaseFile:"已上傳知識庫檔案",uploaded:"已上傳",uploading:"上傳中...",canceling:"取消中...",chooseModel:"選擇模型",currentModel:"當前使用",copied:"已複製!",copyCode:"複製代碼",newChatFailed:"未獲取到新對話 ID",defaultTitle:"預設知識庫名稱",sendMessageFailed:"發送訊息失敗，請稍後再試",modelUpdatedSuccess:"模型更新成功",messageDeleteError:"刪除對話失敗，請稍後再試",messageRenameError:"更新標題失敗，請稍後再試",messageRename:"請輸入新的對話標題",messageRenameSuccess:"對話標題更新成功",messageRenameEmpty:"對話標題不能為空"}},en:{auth:{logIn:"Login In",register:"Sign Up",term:"Techxim® Terms of service",email:"Email",password:"Password",confirmPassword:"Please re-enter your password",company:"Company",firstName:"First Name",lastName:"Last Name",cellphone:"CellPhone",goToSignUp:"Sign up now",goToLogin:"Log in",logOut:"Log Out",askIsNew:"New here?",askIsMember:"Welcome back!",askIsReadTerm:"I have read and agreed with the",emailPlaceholder:"Please enter your email",passwordPlaceholder:"Please enter your password",noAccount:"No account?",registerSuccess:"Register success! Redirecting to login page...",lastNamePlaceholder:"Please enter your last name",firstNamePlaceholder:"Please enter your first name",cellphonePlaceholder:"Please enter your phone number",companyPlaceholder:"Please enter your company name",logOutSuccess:"You have successfully logged out",notAuthenticated:"Please log in to continue",passwordHint:"Password must be at least 8 characters",message:{noInputWarning:"Please check if the email or password is empty.",notAuthenticated:"Please log in to continue",authenticated:"Login success!",validEmail:"Invalid email address",validPassword:"Password must be at least 8 characters",validConfirmPassword:"Password and Confirm Password do not match",validIsReadTerm:"You must agree to the terms and service",registerFailed:"Register failed, please try again later"}},main:{generate:"Generate",cancel:"Cancel",confirm:"Confirm",user:"User",assistant:"Assistant",system:"System",newChat:"New Chat",setting:"Settings",name:"Name",enterToSubmit:"Enter to submit",submitPlaceholder:"Type a message...",noSessionIdWarning:"No session_id",default:"Default",loading:"Loading application...",empty:"No chat history",emptySubtext:'Click the "New Chat" button above to start chatting',version:"Version",confirmDelete:"Confirm Delete",confirmDeleteSubtext:"Are you sure you want to delete this chat? This action cannot be undone.",delete:"Delete",send:"Send",greeting:"Welcome to AI Assistant",greetingSubtext:"What can I do for you? You can ask any question, and I will do my best to help you.",greetingExample1:"Explain the basic principles of quantum computing",greetingExample2:"Write a simple Vue component for me",greetingExample3:"How to improve code performance?",save:"Save",newMessages:"↓ New Messages",error:"Error loading chat",error_message:"Please return to the home page or try reloading",back_to_home:"Back to Home",unknowError:"Unknown error",today:"Today",yesterday:"Yesterday",last7Days:"Last 7 Days",last30Days:"Last 30 Days",noChats:"No Chat History",startNewChat:'Click the "New Chat" button above to start chatting',welcome:"Welcome to AI Assistant",welcomeSubtext:"Start a new chat, input your question, and the AI assistant will help you.",defaultDescription:"This is a knowledge base for storing and retrieving documents.",knowledgeBaseName:"Knowledge Base",pleaseInputKnowledgeBaseName:"Please input the knowledge base name",knowledgeBaseCreatedSuccess:"Knowledge base created successfully",knowledgeBaseCreatedFailed:"Knowledge base creation failed",knowledgeBaseCreatedFailedMessage:"Knowledge base creation failed: ",pleaseSelectAtLeastOneFile:"Please select at least one file",uploadingFiles:"Starting to upload files...",uploadingFilesSuccess:"Files uploaded successfully, processing...",uploadingFilesError:"Error uploading files",gettingDocumentsList:"Getting documents list...",updatingKnowledgeBaseInfo:"Updating knowledge base info...",knowledgeBaseUpdatedSuccess:"Knowledge base updated successfully",operationFailed:"Operation failed: ",unknownError:"Unknown error",gettingKnowledgeBaseDetails:"Getting knowledge base details...",updateModelFailed:"Update model failed: ",noDescription:"No description",knowledgeBaseSetting:"Knowledge Base Setting",modelSetting:"Model Setting",knowledgeBaseDescription:"Description",modelDescription:"Model Description",knowledgeBaseFile:"Knowledge Base File",supportFileFormat:"Support PDF, DOCX, TXT, etc.",chooseFile:"Choose File",uploadFileSequence:"Upload File Sequence",uploadedKnowledgeBaseFile:"Uploaded Knowledge Base File",uploaded:"Uploaded",uploading:"Uploading...",canceling:"Canceling...",chooseModel:"Choose Model",currentModel:"Current Model",copied:"Copied!",copyCode:"Copy Code",newChatFailed:"No new chat ID",defaultTitle:"Default Title",sendMessageFailed:"Send message failed, please try again later",modelUpdatedSuccess:"Model updated successfully",messageDeleteError:"Delete the conversation failed, please try again later",messageRenameError:"Update title failed, please try again later",messageRename:"Change Title",messageRenameSuccess:"Conversation title updated successfully",messageRenameEmpty:"Conversation title cannot be empty"}}}});H.Random.extend({aiModel:function(){return this.pick(["gpt-3.5-turbo","gpt-4","gpt-4-turbo","claude-2","claude-instant","llama-2"])},techTopic:function(){return this.pick(["前端開發","後端開發","機器學習","區塊鏈","雲計算","網絡安全","數據分析","人工智能","DevOps","移動開發"])},programmingLanguage:function(){return this.pick(["JavaScript","Python","Java","C++","Go","Rust","PHP","Ruby","Swift","Kotlin"])},knowledgeBaseName:function(){return`${this.pick(["技術文檔","API文檔","使用手冊","開發指南","最佳實踐","學習資源"])}-${this.pick(["前端","後端","DevOps","AI","數據庫","安全"])}`}});fe()&&(H.mock(new RegExp(re.SESSIONS),"get",(()=>{const e=H.Random.integer(3,10),t=[];for(let a=0;a<e;a++)t.push({id:H.Random.guid(),title:H.Random.ctitle(3,8),description:H.Random.csentence(10,20),created_at:H.Random.datetime(),updated_at:H.Random.datetime(),user_id:H.Random.guid(),knowledge_base_id:H.Random.boolean()?H.Random.guid():null,llm_id:H.Random.guid()});return t})),H.mock(new RegExp(re.SESSION_BY_ID(".*")),"get",(()=>({id:H.Random.guid(),title:H.Random.ctitle(3,8),description:H.Random.csentence(10,20),created_at:H.Random.datetime(),updated_at:H.Random.datetime(),user_id:H.Random.guid(),knowledge_base_id:H.Random.boolean()?H.Random.guid():null,llm_id:H.Random.guid()}))),H.mock(new RegExp(re.MESSAGES(".*")),"get",(()=>{const e=H.Random.integer(5,15),t=[];for(let a=0;a<e;a++)t.push({id:H.Random.guid(),role:H.Random.boolean()?"user":"assistant",message:H.Random.cparagraph(2,5),created_at:H.Random.datetime(),updated_at:H.Random.datetime(),session_id:H.Random.guid(),user_id:H.Random.guid()});return t})),H.mock(new RegExp(de.BASE),"get",(()=>{const e=H.Random.integer(3,8),t=[];for(let a=0;a<e;a++)t.push({id:H.Random.guid(),name:H.Random.knowledgeBaseName(),description:H.Random.csentence(10,20),created_at:H.Random.datetime(),updated_at:H.Random.datetime(),user_id:H.Random.guid(),document_count:H.Random.integer(0,100),total_tokens:H.Random.integer(1e3,1e6)});return t})),H.mock(new RegExp(ce.MODELS),"get",(()=>{const e=H.Random.integer(4,8),t=[];for(let a=0;a<e;a++)t.push({id:H.Random.guid(),name:H.Random.aiModel(),description:H.Random.csentence(10,20),type:H.Random.pick(["chat","completion","embedding"]),created_at:H.Random.datetime(),updated_at:H.Random.datetime(),is_active:H.Random.boolean(),config:{temperature:H.Random.float(0,1),max_tokens:H.Random.integer(100,4e3),top_p:H.Random.float(0,1),frequency_penalty:H.Random.float(0,2),presence_penalty:H.Random.float(0,2)}});return t})));const yt=T(K);yt.config.errorHandler=(e,t,a)=>{},yt.config.globalProperties.$appName="Techxim® GPT",yt.config.globalProperties.$appVersion="1.0.0";const wt=R();wt.use(M),yt.use(wt),yt.use(ht),yt.use(_t),yt.mount("#app");export{ne as C,X as I,nt as M,qe as S,q as _,W as a,pe as b,ge as c,fe as g,_e as k,he as s,we as t,ve as u};
