<!DOCTYPE html>
<html lang="zh-TW">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>QR Code 庫比較範例</title>
		<style>
			* {
				margin: 0;
				padding: 0;
				box-sizing: border-box;
			}

			body {
				font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
				min-height: 100vh;
				padding: 20px;
			}

			.container {
				max-width: 1200px;
				margin: 0 auto;
				overflow: hidden;
			}

			.header {
				background: linear-gradient(45deg, #667eea, #764ba2);
				color: white;
				padding: 30px;
				text-align: center;
			}

			.header h1 {
				font-size: 2.5em;
				margin-bottom: 10px;
			}

			.header p {
				font-size: 1.2em;
				opacity: 0.9;
			}

			.controls {
				padding: 30px;
			}

			.input-group {
				display: flex;
				gap: 15px;
				align-items: end;
				flex-wrap: wrap;
				margin-bottom: 20px;
			}

			.input-field {
				flex: 1;
				min-width: 200px;
			}

			label {
				display: block;
				margin-bottom: 5px;
				font-weight: bold;
				color: #495057;
			}

			.generate-all-btn {
				padding: 12px 30px;
				color: white;
				border: none;
				border-radius: 8px;
				font-size: 16px;
				font-weight: bold;
				cursor: pointer;
				transition: transform 0.2s;
				min-width: 150px;
			}

			.generate-all-btn:hover {
				transform: translateY(-2px);
			}

			.libraries {
				display: grid;
				grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
				gap: 0;
			}

			.library {
				padding: 30px;
				position: relative;
			}

			.library:last-child {
				border-right: none;
			}

			.library-header {
				display: flex;
				align-items: center;
				justify-content: space-between;
				margin-bottom: 20px;
				padding-bottom: 15px;
				border-bottom: 2px solid #e9ecef;
			}

			.library-title {
				font-size: 1.5em;
				font-weight: bold;
				color: #343a40;
			}

			.library-badge {
				padding: 5px 12px;
				border-radius: 20px;
				font-size: 12px;
				font-weight: bold;
				color: white;
			}
			.qr-container {
				min-height: 280px;
				display: flex;
				flex-direction: column;
				align-items: center;
				justify-content: center;
				background: #f8f9fa;
				border-radius: 10px;
				padding: 20px;
				margin-bottom: 20px;
				border: 2px dashed #dee2e6;
				transition: all 0.3s;
			}
			.features {
				list-style: none;
			}

			.features li {
				padding: 8px 0;
				color: #6c757d;
				display: flex;
				align-items: center;
				gap: 10px;
			}

			.features .check {
				color: #28a745;
				font-weight: bold;
			}
			.features .cross {
				color: #dc3545;
				font-weight: bold;
			}

			.loading {
				color: #6c757d;
				font-style: italic;
			}

			@media (max-width: 768px) {
				.libraries {
					grid-template-columns: 1fr;
				}

				.library {
					border-right: none;
					border-bottom: 2px solid #e9ecef;
				}

				.library:last-child {
					border-bottom: none;
				}
			}
		</style>
	</head>
	<body>
		<div class="container">
			<div class="libraries">
				<!-- qrjs2 -->
				<div class="library">
					<div class="library-header">
						<div class="library-title">qrjs2</div>
					</div>

					<div id="qr-qrjs2" class="qr-container">
						<div class="loading">準備生成...</div>
					</div>
				</div>
			</div>
			<div class="libraries">
				<!-- qr-creator -->
				<div class="library">
					<div class="library-header">
						<div class="library-title">qr-creator</div>
					</div>

					<div class="qr-container">
						<canvas id="qr-nimiq" width="220" height="220"></canvas>
					</div>
				</div>
			</div>
			<div class="libraries">
				<!-- qr-creator -->
				<div class="library">
					<div class="library-header">
						<div class="library-title">qr-creator</div>
					</div>

					<div class="qr-container">
						<canvas id="qr-nayuki" width="220" height="220"></canvas>
					</div>
				</div>
			</div>
		</div>
		<script src="https://cdn.jsdelivr.net/gh/englishextra/qrjs2@0.1.12/js/qrjs2.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/qr-creator/dist/qr-creator.min.js"></script>
		<script type="module">
			import qrcodegen from "https://cdn.jsdelivr.net/npm/nayuki-qr-code-generator@1.8.0/index.js";
			const svg = QRCode.generateSVG("https://example.com", {
				ecclevel: "M",
				margin: 2,
				modulesize: 6,
				fillcolor: "#ffffff",
				textcolor: "#000000"
			});
			document.getElementById("qr-qrjs2").appendChild(svg);
			QrCreator.render(
				{
					text: "https://example.com",
					size: 220,
					ecLevel: "M",
					radius: 0.35, // 0 ~ 0.5 之間越大越圓
					fill: "#222", // 前景色，亦可放漸層物件
					background: null // 透明背景
				},
				document.querySelector("#qr-nimiq")
			);

			// 1) 產生 QR 模組資料
			const qr = qrcodegen.QrCode.encodeText("https://example.com", qrcodegen.QrCode.Ecc.MEDIUM);

			// 2) 繪到 <canvas>
			const scale = 6; // 每個模組像素大小
			const border = 4; // 留白（quiet zone）模組數
			const size = (qr.size + border * 2) * scale;

			const canvas = document.getElementById("qr-nayuki");
			canvas.width = canvas.height = size;
			const ctx = canvas.getContext("2d");
			ctx.fillStyle = "#fff";
			ctx.fillRect(0, 0, size, size);
			ctx.fillStyle = "#000";
			for (let y = 0; y < qr.size; y++) {
				for (let x = 0; x < qr.size; x++) {
					if (qr.getModule(x, y)) {
						ctx.fillRect((x + border) * scale, (y + border) * scale, scale, scale);
					}
				}
			}
		</script>
	</body>
</html>
