<!DOCTYPE html>
<html lang="zh-Hant-TW">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>這是測試網站</title>
		<!-- fb meta -->
		<meta property="og:type" content="website" />
		<meta property="og:title" content="這是測試網站" />
		<meta property="og:description" content="這是測試網站123321" />
		<!-- Safari 數字過常會變成可撥打電話 -->
		<meta name="format-detection" content="telephone=no" />
		<!-- 1200x628 -->
		<meta property="og:image" content="https://tw.hicdn.beanfun.com/beanfun/promo/LineageM/E20220124LineageMOASIS/images/og-image2.png" />
		<link rel="stylesheet" href="https://tw.hicdn.beanfun.com/beanfun/promo/Moonlight/E20221018/css/app.css" />
		<!-- <script src="https://use.typekit.net/orz4pfx.js" async=""></script>、 -->
		<script src="https://tw.hicdn.beanfun.com/jquery/jquery.min.js"></script>
		<script src="https://tw.hicdn.beanfun.com/jquery/jquery-migrate.min.js"></script>
		<!-- Google tag (gtag.js) -->
		<script async src="https://www.googletagmanager.com/gtag/js?id=UA-124678311-1"></script>
		<script src="https://tw.hicdn.beanfun.com/beanfun/GamaWWW/allProducts/script/gbox/gbox.js"></script>
		<style>
			@import url("https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;900&display=swap");
		</style>
		<style>
			* {
				padding: 0;
				margin: 0;
				font-size: 12px;
			}
			html,
			body {
				touch-action: manipulation;
				touch-callout: none;
				-webkit-touch-callout: none;
			}
			@supports (-webkit-touch-callout: none) {
				body {
					/* The hack for Safari */
					height: -webkit-fill-available;
				}
			}
			body {
				background-color: #fff;
			}
			#next {
				box-sizing: border-box;
				word-break: break-all;
				/* -webkit-appearance: button; */
				display: inline-block;
				vertical-align: middle;
				background-image: url("./images/rioff.png");
				width: 2.47396vw;
				height: 2.73438vw;
				background-size: 2.47396vw 2.73438vw !important;
			}
			.font {
				font-family: "Noto Sans TC", sans-serif;
				font-size: 45px;
				color: #332f2f;
				font-weight: 900;
			}
			#input {
				font-size: 20px;
			}
			#input:focus {
				border: 1px solid red;
			}
		</style>
	</head>
	<body>
		<div class="font">決戰國際服</div>

		<textarea name="" id="textarea1" cols="30" rows="10"></textarea>
		<textarea name="" id="textarea2" cols="30" rows="10"></textarea>
		<button type="button" class="copy">copy</button>
		<a href="https://forum.framework7.io/t/external-link-not-opening-in-safari-on-iphone/10354" target="_blank">典籍我</a>
		<button type="button" id="btn">BTN</button>
		<div id="next"></div>
		<div id="app">
			<div class="text"></div>
			<button type="button" class="clip">複製</button>
			<button type="button" class="share">Share</button>
		</div>
		<script>
			function onGbox() {
				let HTML = `<input type="text" id="input" />`;
				$.gbox.open(HTML);
			}
			document.addEventListener("DOMContentLoaded", function () {
				// var onInput = document.getElementById("input");
				// setTimeout(() => {
				// 	onInput.focus();
				// }, 1000);
			});
			document.querySelector(".copy").addEventListener("click", function () {
				var script = $("#textarea1").val();
				$("#textarea2").val(script);
				var s = document.createElement("script");
				s.type = "text/javascript";
				s.appendChild(document.createTextNode(getAttributeValue(script)));
				document.body.appendChild(s);
			});

			function getAttributeValue(source) {
				const strippedString = source.replace(/(<([^>]+)>)/gi, "");
				return strippedString;
			}
			function InitGTM(GTM) {
				window.addEventListener("DOMContentLoaded", function () {
					var body = document.getElementsByTagName("body")[0];
					var _script = document.createElement("script");
					_script.src = "https://www.googletagmanager.com/gtag/js?id=UA-124678311-1";
					_script.async = true;
					body.insertAdjacentElement("afterbegin", _script);
					window.dataLayer = window.dataLayer || [];
					function gtag() {
						dataLayer.push(arguments);
					}
					gtag("js", new Date());

					gtag("config", "UA-124678311-1");
				});
			}
			// InitGTM("GTM-W3397MP");
			const btn = document.getElementById("btn");
			const shareData = {
				title: document.title,
				text: "我想與你分享" + document.title + "的精彩內容!",
				url: document.location.href
			};

			btn.addEventListener("click", async () => {
				onGbox();
				// try {
				// 	await navigator.share(shareData);
				// } catch (err) {
				// 	console.log("Error: " + err);
				// }
			});
			if (window.localStorage.getItem("name")) {
				var name = window.localStorage.getItem("name");
				$(".text").html(name);
			} else {
				window.localStorage.setItem("name", "HELLO WORLD");
			}
			$(".clip").on("click", function () {
				navigator.clipboard.writeText("sadasdkasodkpasdoasd");
				navigator.clipboard.readText().then((clipText) => {
					console.log(clipText);
				});
			});

			$(".share").on("click", function () {
				navigator
					.share({
						title: "標題",
						text: "文字描述",
						url: "https://tw.hicdn.beanfun.com/beanfun/promo/LineageM/E20220912_hapysssk/index.html"
					})
					.then(() => console.log("成功！"))
					.catch((error) => console.log("發生錯誤", error));
			});
		</script>
	</body>
</html>
